class Solution {
public:
    vector<vector<int>> graph;
    vector<bool> visited;
    int nodes, edges;

    void dfs(int u) {
        visited[u] = true;
        nodes++;

        for (int v : graph[u]) {
            edges++;
            if (!visited[v]) {
                dfs(v);
            }
        }
    }

    int countCompleteComponents(int n, vector<vector<int>>& edgesList) {
        graph.resize(n);
        visited.assign(n, false);

        for (auto &e : edgesList) {
            graph[e[0]].push_back(e[1]);
            graph[e[1]].push_back(e[0]);
        }

        int result = 0;

        for (int i = 0; i < n; i++) {
            if (!visited[i]) {
                nodes = 0;
                edges = 0;
                dfs(i);

                edges /= 2;
                if (edges == nodes * (nodes - 1) / 2)
                    result++;
            }
        }
        return result;
    }
};
